# 개발일지
프로그램을 개발하며 느낀점, 한 일 등을 정리합니다.

## 개발 방향 (1)
처음 기능을 개발하려고 생각했을 때, 언어는 Java를 사용하고 ```Selenium``` 라이브러리를 활용하여 구현하려고 생각했었습니다. 백준허브 확장 프로그램이 제출한 내역을 보고 깃허브에 해당 제출을 업로드해주는 방식으로 보였기 때문에 ```Selenium``` 을 활용하여 자동으로 브라우저를 열고 닫는 방식으로 구현하려고 생각했었습니다.

실제로 개발을 진행했었는데, 그 과정에서 생긴 문제점은 ```Selenium``` 에서 chromedriver 파일을 불러와서 실행시키면, 현재 로컬 크롬 환경이 아닌 순정 크롬 브라우저를 실행한다는 문제가 생겼습니다. 즉, 크롬 확장 프로그램이 설치되어있지 않았습니다.

그러나 ```selenium``` 은 ```add_extension()``` 함수 등으로 확장 프로그램을 추가할 수 있도록 제공했고, 몇몇 기술 블로그 등에서 해당 내용을 다뤘기 때문에 참고하면서 진행했었습니다. 그러나 확장 프로그램까지는 추가가 되었는데, 해당 확장 프로그램을 실행하는 과정에서 ```ERR_BLOCKED_BY_CLIENT``` 의 로그를 남기면서 확장 프로그램 페이지로 이동이 되지 않았습니다.

의심되는 원인은 ```ccammcjdkpgjmcpijpahlehmapgmphmk``` 로 고정되었어야 하는 확장 프로그램 id 값이 계속 변하고 있었습니다.

## 개발 방향 (2)
따라서 ```chromedriver에``` 확장 프로그램을 추가하는 방식을 해결하지 못할 것이라고 판단하여 중지하였고, 대신에 ```selenium``` 으로 실행하는 크롬 브라우저를 현재 사용자의 크롬 브라우저 위에서 실행시키는 방향으로 고민했습니다.

chromedriver의 remote 기능을 사용하면 될 것도 같았는데, 이때 개발 시간이 늦은 밤이기도 했고, 될지 안될지도 확실하지 않은 상황이여서 "일단은 돌아가게만 하자!" 라고 생각해서 현재의 방식으로 구현하였다.

## 개발 방향 (3)
기능이 돌아가는 것을 최우선으로 두고 구현한 현재 코드를 구현하면서 고민한 내용이다. 먼저 Python의 ```webbrowser``` 라이브러리를 이용하여 크롬 브라우저로 특정 링크를 실행시킬 수 있었다. 또한 BOJ 아이디와 문제 번호만 있으면 BOJ 제출 현황 링크를 만들 수 있었기 때문에 링크는 문제가 되지 않았다.

그러나 ```webbrowser``` 라이브러리는 여는것은 가능했지만 닫는것이 불가능했다. 즉 문제수가 100개라면 100개의 크롬 브라우저가 생성되고, 문제수가 더 많다면 한번에 실행시키는 크롬 브라우저 수가 그만큼 많아져서 메모리가 부족해질 우려가 있었다.

따라서 방법을 고민하던 중, 결국 생각해낸 방법은 프로세스의 실행중인 프로그램 이름이 "Google Chrome"인 경우 프로세스를 종료하는 방식으로 구현하였습니다.

결과적으로 핵심 기능은 구현되었지만, 본 프로그램이 작동하면서 계속 브라우저를 열기 때문에 다른 작업이 힘들고, kill할 프로세스가 백준허브에 의해서 먼저 꺼진 경우 예외가 발생하는 등 좋은 코드가 아니라고 생각합니다.

## To Do List
1. Windows 지원
    * Windows는 확장자 ```.exe``` 가 들어가기 때문에 현재 코드의 프로세스 이름으로 지우는 것은 보장하지 못한다.
    * 또한 저장 위치도 달라서 크롬브라우저 path를 입력받는 식으로 바꾸는것도 필요하다고 생각된다.
2. ```Selenium``` 적용
    * ```psuitll``` 라이브러리는 개발일지에 적힌대로 위험성이 있기 때문에, ```selenium``` 라이브러리를 이용하는 안전한 방식으로 변경을 시도한다.
    * 적용만 할 수 있다면 1번의 chromepath 문제는 해결할 수 있다고 생각된다.